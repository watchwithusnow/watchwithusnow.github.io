<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WatchWithUsNow</title>
  <style>
    /* Estilos generales para el cuerpo de la página */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background-color: #1a1a1a;
      color: #fff;
      text-align: center;
    }

    /* Estilos para la sección del encabezado */
    header {
      background-color: #333;
      padding: 20px;
    }

    /* Estilos para el título principal con animación de resplandor */
    h1 {
      margin: 0;
      font-size: 2em;
      color: #ffcc00;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      animation: glow 2s infinite alternate;
    }
    h2 {
      margin: 0;
      font-size: 2em;
      padding: 20px;
      color: #ffcc00;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    h3 {
      margin: 0;
      font-size: 2em;
      padding: 20px;
      color: #F57730;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    h4 {
      margin: 0;
      font-size: 2em;
      padding: 20px;
      color: #FFFFFF;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    h5 {
      margin: 0;
      font-size: 2em;
      padding: 20px;
      color: #6A0DF7;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    h6 {
      margin: 0;
      font-size: 2em;
      padding: 20px;
      color: #2E74D2;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    h7 {
      margin: 0;
      font-size: 2em;
      padding: 20px;
      color: #FEA100;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    /* Animación de resplandor para el título principal */
    @keyframes glow {
      from {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }
      to {
        text-shadow: 0 0 10px rgba(255, 204, 0, 1);
      }
    }

    /* Estilos para la barra de navegación */
    nav {
      background-color: #2c2c2c;
      padding: 10px;
      display: flex;
      justify-content: center;
      width: 100%;
      box-sizing: border-box;
    }

    /* Estilos para los enlaces de la barra de navegación */
    nav a {
      text-decoration: none;
      color: #fff;
      margin: 0 15px;
      transition: color 0.3s ease;
    }

    /* Cambio de color al pasar el cursor sobre los enlaces de la barra de navegación */
    nav a:hover {
      color: #ffcc00;
    }

    /* Estilos para el contenedor de los cuadros rojos */
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    /* Estilos para los cuadros rojos dentro del contenedor */
    .rojo-box {
      max-width: 400px;
      height: 450px;
      background-color: #414145;
      border-radius: 50px;
      display: flex;
      padding: 30px;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 1.2em;
      margin: 10px;
      transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .rojo1-box {
      max-width: 400px;
      height: 450px;
      background-color: #091772;
      border-radius: 50px;
      display: flex;
      padding: 30px;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 1.2em;
      margin: 10px;
      transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
    }


    /* Transformación y cambio de color al pasar el cursor sobre los cuadros rojos */
    .rojo-box:hover {
      transform: scale(1.1);
      background-color: #414145;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
    }

    .descripcion {
      background-color: #7C7C84;
      border-radius: 10px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .centrado {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    /* Estilos para el pie de página */
    footer {
      margin-top: auto;
      background-color: #333;
      padding: 10px;
      text-align: center;
      width: 100%;
      box-sizing: border-box;
    }
    img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 10%;
      padding: 20px;
    }

    a {
      text-decoration: none;
      color: tu_color_preferido;
    }
    nav a.active {
      font-weight: bold;
      text-decoration: none;
      color: #ffcc00;
      position: relative;
    }

    nav a.active::after {
      content: '';
      display: block;
      width: 100%;
      height: 2px;
      background-color: #ffcc00;
      position: absolute;
      bottom: 0;
      left: 0;
      transform: scaleX(0);
      transform-origin: bottom right;
      transition: transform 0.3s ease-in-out;
    }

    nav a.active:hover::after {
      transform: scaleX(1);
      transform-origin: bottom left;
    }


       #login-container, #chat-container {
            max-width: 300px;
            margin: 100px auto;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }

        #chat-container {
            display: none;
        }

        #chat-messages {
            padding: 10px;
            height: 300px;
            overflow-y: scroll;
            background-color: #fff;
        }

        #input-container {
            display: flex;
            padding: 10px;
            background-color: #f9f9f9;
        }

        #message-input {
            flex-grow: 1;
            padding: 8px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        #send-button {
            padding: 8px 15px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }

  </style>

  <!-- Scripts de anuncios -->
  <script type="text/javascript" src="//pl21744493.toprevenuegate.com/68/ed/06/68ed0661be579665a24bd79b0ec12bd0.js"></script>
  <script async="async" data-cfasync="false" src="//pl21744508.toprevenuegate.com/12/9b/45/129b459f2e637f4e6bb11c1c63eac0b5.js"></script>
<script type="text/javascript" src="//pl21744521.toprevenuegate.com/97/db/ce/97dbce20954f6243e3f6db7889f0e615.js"></script>
</head>
<body>

  <!-- Sección del encabezado con el título principal -->
  <header>
    <h1>Bienvenido a WatchWithUsNow</h1>
  </header>

  <!-- Barra de navegación con enlaces a diferentes secciones -->
  <nav>
    <a href="index.html" class="active">Inicio</a>
    <a href="netflix.html">Cookies Netflix</a>
    <a href="prime.html">Cookies Primevideos</a>
    <a href="netflixtv.html">Netflix TV</a>
  </nav>

<div id="login-container">
    <h2>Iniciar sesión o registrarse</h2>
    <input type="text" id="username" placeholder="Nombre de usuario">
    <input type="password" id="password" placeholder="Contraseña">
    <button onclick="login()">Iniciar sesión</button>
    <button onclick="register()">Registrarse</button>
</div>

<div id="chat-container">
    <div id="chat-messages"></div>
    <div id="input-container">
        <input type="text" id="message-input" placeholder="Escribe tu mensaje...">
        <button id="send-button" onclick="sendMessage()">Enviar</button>
    </div>
</div>

<script>
    var users = {};
    var currentUserName;
    var socket;


    function register() {
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;

        if (username.trim() !== '' && password.trim() !== '') {
            if (users[username]) {
                alert("El nombre de usuario ya está registrado. Inténtelo con otro nombre de usuario.");
            } else {
                users[username] = password;
                saveToLocalStorage();
                alert("Registro exitoso. Ahora puedes iniciar sesión.");
            }
        } else {
            alert("Por favor, ingrese un nombre de usuario y contraseña válidos.");
        }
    }

function login() {
    var username = document.getElementById('username').value;
    var password = document.getElementById('password').value;

    if (users[username] === password) {
        currentUserName = username;
        alert("¡Inicio de sesión exitoso!");
        showChat();

        // Obtener el token almacenado en el lado del cliente (puedes usar localStorage)
        const token = generateToken();

        // Enviar el token al servidor para autenticación
        socket.send(token);
    } else {
        alert("Credenciales incorrectas. Inténtelo de nuevo o regístrese.");
    }
}

    function showChat() {
        document.getElementById('login-container').style.display = 'none';
        document.getElementById('chat-container').style.display = 'block';
    }

    function sendMessage() {
        var messageInput = document.getElementById('message-input');
        var message = messageInput.value;

        if (message.trim() !== '') {
            var chatMessages = document.getElementById('chat-messages');
            var newMessage = document.createElement('div');
            newMessage.textContent = currentUserName + ": " + message;
            chatMessages.appendChild(newMessage);

            // Limpiar el campo de entrada después de enviar el mensaje
            messageInput.value = '';

            // Desplazar el contenedor de mensajes hacia abajo para mostrar el mensaje más reciente
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Enviar el mensaje al servidor a través de WebSocket
            socket.send(JSON.stringify({ type: 'message', content: message }));
        }
    }

    function saveToLocalStorage() {
        localStorage.setItem('users', JSON.stringify(users));
    }

    function loadFromLocalStorage() {
        var storedUsers = localStorage.getItem('users');
        if (storedUsers) {
            users = JSON.parse(storedUsers);
        }
    }

    function initializeWebSocket() {
        // Cuando se carga la página, inicializa la conexión WebSocket
        socket = new WebSocket('wss://chat-watch.glitch.me');

        // Al conectarse al servidor WebSocket
        socket.onopen = function (event) {
            console.log("Conexión WebSocket abierta:", event);

            // Obtener el token almacenado en el lado del cliente (puedes usar localStorage)
            const token = localStorage.getItem('token');

            // Enviar el token al servidor para autenticación
            socket.send(JSON.stringify({ type: 'login', token: token }));
        };

        // Al recibir mensajes del servidor WebSocket
        socket.onmessage = function (event) {
            var data = JSON.parse(event.data);

            if (data.type === 'chatHistory') {
                // Procesar el historial de mensajes recibido del servidor
                console.log('Historial de mensajes:', data.messages);
            } else {
                // Procesar otros tipos de mensajes
                console.log('Mensaje recibido:', data);
            }
        };

        // Al cerrarse la conexión WebSocket
        socket.onclose = function (event) {
            console.log("Conexión WebSocket cerrada:", event);
        };
    }

    // Cargar usuarios almacenados al inicio
    loadFromLocalStorage();

</script>


  <!-- Pie de página con derechos reservados -->
  <footer>
    <p>Derechos Reservados &copy; 2023 WatchWithUsNow</p>
  </footer>

</body>
</html>
